!DOCTYPE html
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
        <meta http-equiv="Pragma" content="no-cache">
        <meta http-equiv="Expires" content="0">
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Plant Monitoring System</title>
        <style>
        .container {
            max-width: 500px;
            margin: 0 auto;
            padding: 20px;
        }
        .center {
            text-align: center;
        }
        .result {
            margin-top: 20px;
        }
        body{background-image:url(Images/Plants.jpg);
            background-size: cover;
            background-position: center;
        }
        img {
            width: 600px;
            height: 400px;
            background-color:none;
            object-fit: none;
        }
        </style>
        </head>
        <body>
            <div class="container">
                <h3 class="center">Prediction</h3>
                <div id="prediction-result" class="result center"></div>
                <div id="prediction-image" class="result center">
                    <h3>Uploaded Image:</h3>
                    <img id="uploaded-image" src="" alt="Uploaded Image">
                </div>
            </div>
            <script>
            function displayPrediction() {
                var prediction = JSON.parse(sessionStorage.getItem('prediction'));
                console.log('Received response:', prediction);

                // Print the prediction object to the console
                console.log('Prediction object:', prediction);

                var resultDiv = document.getElementById('prediction-result');
                var imageDiv = document.getElementById('prediction-image');
    
                // Clear previous results
                resultDiv.innerHTML = '';
                imageDiv.innerHTML = '';
    
                // Display the predicted disease
                var diseaseHeader = document.createElement('h3');
                diseaseHeader.textContent = 'predicted disease:';
                resultDiv.appendChild(diseaseHeader);
    
                var diseaseName = document.createElement('p');
                diseaseName.textContent = prediction.disease;
                resultDiv.appendChild(diseaseName);
    
                // Verify Base64 Image Data
                var base64ImageData = prediction.image;
                var image = new Image();
                image.src = 'data:image/jpeg;base64,' + base64ImageData;
                image.style.maxWidth = '300px';
                image.style.marginTop = '20px';
                imageDiv.appendChild(image);
                console.log('Image source:', image.src); // Log the image source
            }
            // Call the displayPrediction() function when the page loads
            window.onload = displayPrediction    
            </script>
        
</body>
</html>
